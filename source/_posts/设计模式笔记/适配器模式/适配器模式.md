---
title: 设计模式--适配器模式
author: tongji4m3
top: false
cover: false
coverImg: /images/1.jpg
toc: true
mathjax: false
summary: '学习《Head Frist 设计模式》所做的笔记,主要介绍了适配器模式的原则,类图,代码实现。'
categories: 设计模式笔记
tags:
  - 设计模式
  - Java
  - UML
abbrlink: f70eccfd
date: 2020-10-08 00:00:00
---

# 适配器模式

## 定义

适配器模式将一个类的接口，转换成客户期望的另一个接口。适配器让原本不兼容的类可以合作无间。

## 细节

+ 作用是将一个接口转换成另一个接口,以符合用户的期望。

## 类图

![image-20201005103843452](https://tongji4m3.oss-cn-beijing.aliyuncs.com/image-20201005103843452.png)

# 实现

## animal

```java
public interface Duck
{
    void quack();

    void fly();
}
```

```java
public class MallardDuck implements Duck
{
    @Override
    public void quack()
    {
        System.out.println("Quack");
    }

    @Override
    public void fly()
    {
        System.out.println("fly");
    }
}
```

```java
public interface Turkey
{
    void gobble();

    void fly();
}
```

```java
public class WildTurkey implements Turkey
{
    @Override
    public void gobble()
    {
        System.out.println("Gobble");
    }

    @Override
    public void fly()
    {
        System.out.println("fly short");
    }
}
```

## 适配器

```java
//将火鸡适配成鸭子
public class TurkeyAdapter implements Duck
{
    Turkey turkey;

    public TurkeyAdapter(Turkey turkey)
    {
        this.turkey = turkey;
    }

    @Override
    public void quack()
    {
        turkey.gobble();
    }

    @Override
    public void fly()
    {
        for (int i = 0; i < 5; i++)
        {
            turkey.fly();
        }
    }
}
```

## Client

```java
public class DuckTestDrive
{
    public static void main(String[] args)
    {
        WildTurkey wildTurkey = new WildTurkey();
        TurkeyAdapter turkeyAdapter = new TurkeyAdapter(wildTurkey);
        testDuck(turkeyAdapter);
    }

    public static void testDuck(Duck duck)
    {
        duck.quack();
        duck.fly();
    }
}
```

# 迭代器适配器

```java
public class EnumeratorIterator implements Iterator
{
    Enumeration enumeration;

    public EnumeratorIterator(Enumeration enumeration)
    {
        this.enumeration = enumeration;
    }

    @Override
    public boolean hasNext()
    {
        return enumeration.hasMoreElements();
    }

    @Override
    public Object next()
    {
        return enumeration.nextElement();
    }

    @Override
    public void remove()
    {
        throw new UnsupportedOperationException();
    }

}
```

