---
title: 设计模式--外观模式
author: tongji4m3
top: false
cover: false
coverImg: /images/1.jpg
toc: true
mathjax: false
summary: '学习《Head Frist 设计模式》所做的笔记,主要介绍了外观模式的原则,类图,代码实现。'
categories: 设计模式笔记
tags:
  - 设计模式
  - Java
  - UML
abbrlink: 6bd9c708
date: 2020-10-10 00:00:00
---

# 外观模式

## 定义

外观模式提供了一个统一的接口,用来访问子系统中的一群接口。外观定义了一个高层接口，让子系统更容易使用。

## 设计原则

最少知识原则：只和你的密友谈话。不要让太多的类耦合在一起

就任何对象而言，在该对象的方法内，我们只应该调用属于以下范围的方法：

+ 该对象本身
+ 被当作方法参数而传递进来的对象
+ 此方法所创建或实例化的任何对象
+ 被实例变量所引用的任何对象

## 细节

+ 通过实现一个提供更合理的接口的外观类,你可以将一个复杂的子系统变得容易使用
+ 外观模式没有封装子系统的类,只是提供了简化的接口
+ 外观模式将客户从组件的子系统中解耦
+ 外观的意图是提供子系统的一个简化接口

# 代码

## component

```java
public class CdPlayer
{
    public void on()
    {
        System.out.println("CdPlayer on");
    }

    public void off()
    {
        System.out.println("CdPlayer off");
    }
}
```

```java
public class DvdPlayer
{
    public void on()
    {
        System.out.println("DvdPlayer on");
    }

    public void off()
    {
        System.out.println("DvdPlayer off");
    }
}
```

## HomeTheaterFacade
```java
public class HomeTheaterFacade
{
    CdPlayer cdPlayer;
    DvdPlayer dvdPlayer;

    public HomeTheaterFacade(CdPlayer cdPlayer, DvdPlayer dvdPlayer)
    {
        this.cdPlayer = cdPlayer;
        this.dvdPlayer = dvdPlayer;
    }

    public void watchMovie(String movie)
    {
        System.out.println("Ready to play "+movie);
        cdPlayer.on();
        dvdPlayer.on();
    }


    public void closeMovie()
    {
        System.out.println("Ready to close ");
        cdPlayer.off();
        dvdPlayer.off();
    }
}
```

## MainTest
```java
public class MainTest
{
    public static void main(String[] args)
    {
        //一般来说,外观是直接委派,不需要用户自己创建
        HomeTheaterFacade theaterFacade = new HomeTheaterFacade(new CdPlayer(), new DvdPlayer());
        theaterFacade.watchMovie("I am");
        theaterFacade.closeMovie();
    }
}
```