---
abbrlink: d83f84f7
---
利用CAS算法

底层依然由“数组”+链表+红黑树的方式思想



## sizeCtl

- 负数代表正在进行初始化或扩容操作

- -1代表正在初始化

- -N 表示有N-1个线程正在进行扩容操作

- 正数或0代表hash表还没有被初始化，这个数值表示初始化或下一次进行扩容的大小，这一点类似于扩容阈值